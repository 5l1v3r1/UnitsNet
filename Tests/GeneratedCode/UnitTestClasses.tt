<#@ template debug="True" language="C#" hostspecific="True" #>
<#@ include file="Includes\UnitTestClass.ttinclude" once="true"#>
<#@ output extension=".txt" #> 
<# 
    var assembly = Assembly.GetAssembly(typeof (LengthUnit));
    IEnumerable<UnitClassInfo> infos = TemplateUtils.GetUnitClasses(assembly);

    var m = Manager.Create(Host, GenerationEnvironment);
    foreach (UnitClassInfo info in infos)
    {
        m.StartNewFile(info.UnitClassName + "TestsBase.g.cs");
        GenerateTestClass(info.UnitClassName, info.BaseUnitName, info.BaseUnitPluralName, info.OrderedUnits);
        m.EndBlock();
    }
    
    m.Process(split: true);
#><#+

#>